import discord
import random
import re


def get_userid_string_from_mention(mention):
    user_id = re.sub('[!<>@]', '', mention)
    return user_id


def get_random_embed(quote_dict, author, colour):
    quote, tup = random.sample(quote_dict.items(), 1)[0]
    gif, caption = tup

    embed = discord.Embed(
        color=colour,
        description=quote)
    embed.set_author(name=author + ":")
    embed.set_image(url=gif)
    embed.set_footer(text="Gif Caption: " + caption)
    return embed


def should_i_kill():
    responses = ["No."] * 4
    responses.append("Do what needs to be done.")
    responses.append("Do you have to?")
    responses.append("No. There has been enough death already.")
    responses.append("Yes. Sometimes the plot demands a death.")
    return random.choice(responses)


def back_to_work():
    responses = [
        # Yes
        "Yes.",
        "Do it!! :tada:",
        "Yes. You can do it; you know you can.",
        "You are strong, amazing, and competent. Go kick some ass.",
        "Set a timer for 30 minutes and during that time, do nothing but focus on your work.",
        "Do it for me.",
        "I think you already know the answer.",
        "Don’t ask questions you don’t want answered.",
        "Just get to the next milestone. :heart:",
        "Get back to work!",
        "GET BACK TO WORK!!!!!",
        "Yes. Do it.",
        "You’ll feel better if you get this done.",
        "Signs point to yes.",
        "Listen to me. You can do this.",
        "Yes, and remember, done is better than perfect.",
        "Yes, but first, take a moment to plan something fun to do after you finish so you can look forward to it.",
        "Yes. Just do your best. It will be enough.",
        "What's the easiest, smallest thing you can do? Try starting there.",
        "What's the biggest scariest thing about your prject? Can you make a plan for how to address that? Then the biggest hurdle will be dealt with and it will be a lot easier to do the rest. :heart:",
        "Why not?",
        "Is there a way to reframe what you're working on that makes it more fun?",
        "Please do. I want to see what you'll make.",
        "Yes, but you're not alone in it. I'm here, cheering you on from the sidelines. :tada:",
        "Just start with 5 minutes of work and see how you feel.",
        "Probably.",
        "Put on some motivating music, then get back to work.",

        # No
        "Take a break; you deserve it.",
        "Breaks can increase your productivity, just don’t overdo it.",
        "Take another 10 minutes to relax, and then get down to business.",
        "Maybe you’ve already done enough for now?",
        "Achievement is an addiction. Your choice.",
        "Do you have to? Good enough is good enough.",
        "Going the extra mile leads to exhaustion. Take a break and think of how you can get your work done with less effort.",
        "You could procrastinate by cleaning.",
        "Just one more fic…",
        "What if you started a new fic instead?",
        "No.",
        "Signs point to no.",
        "What if you didn’t?"
    ]
    return random.choice(responses)


characters = [
        "Sephiroth",
        "Safer Sephiroth",
        "The Silver General",

        "Cloud",
        "Cloud Strife",
        
        "Genesis",
        "Angeal",
        "Zack",
        "Tifa",
        "Aerith",
        "Barret",
        "Yuffie",
        "Jessie",
        "Wedge",
        "Red 13",
        "Vincent",
        "Cait Sith",
        "Reeve Tutsi",
        "Cid",

        "Jenova",
        "Claudia Strife",

        "Hojo",
        "Scarlet",
        "Rufus",
        "Tseng",
        "Reno",
        "Rude",
        "Elena",
        "Cissnei",
        "Kunsel",
        "Roche",

        "Marco",
        "A clone",
        "A Malboro",

        "Your OTP",
        "Your OT3",
        "Your OT5"
    ]


def gen_prompt(mention, ran_person):
    random_person = random.choice(characters)

    action = [
        "should not have ventured into",
        "is caught smoking weed in",
        "sets fire to",
        "locks themself into",
        "regrets the day they first saw",
        "hides their most prized possession in",
        "reflects on it all at",
        "finds a new favorite makeout spot in",
        "wakes up still drunk in",
        "finds a baby in a basket at",
        "brought the war to",
        "gets married in",
        "discovers a new kink in",
        "seduces an enemy at",
        "plans a fancy dress party at",
        "opens a center for homeless garden gnomes at",
        "meets a solicitor in secret at",
        "never intended to return to",
        "will never return to",
        "plots world domination from",
        "cackles like a loon at",
        "likes to boogie down at",
        "holds a protest at",
        "wakes up with no memory of how they got to",
        "rushes with ill-intentions to",
        "commits their first murder at",
        "hides a body in",
        "discovers a secret in",
        "comes face to face with someone they never wanted to see again at",
        "must inflitrate",
        "has a self-care day at",
        "makes a new friend at",
        "has a clandestine meeting at",
        "experiences a heartbreak at",
        "confesses their love at",
        "vows revenge after the events at",
        "rains destruction upon",
        "has a change of heart after visiting",
        "gathers an army before going to",
        "turns over a new leaf after an afternoon at",
        "goes out in a blaze of glory at",
        "adopts a pet from",
        "lives happily ever after at",
        "goes into hiding at",
        "will never recover from the battle of",
        "escaped the war by running away to",
        "changed their identity to live anonymously at",
        "dances naked at",
        "loses their temper at",
        "decides to become the World’s Best Thief, starting with the robbery of",
        "plays Dungeons and Dragons with their friends at",
        "holds a jam session at",
        "manipulates the people of",
        "will forever haunt",
        "commits the ultimate sin at",
        "makes the front page of the paper after the events of",
        "delivers an impassioned speech at",
        "resists Jenova at",
        "kidnaps their enemy from",
        "has their master plan go awry at",
        "plays FF7 at",
        "writes fan fiction at",
        "can feel something watching them at",
        "thinks they are alone at",
        "needs to escape",
        "can not find the source of an ominous sound at",
        "sees the future at",
        "experiments with something new at",
        "has an excellent day at",
        "has the worst day of their life at",
        "doesn't know they are being watched at",
        "runs a shadow empire from",
        "hides from the world at",
        "wakes up in the past during a very inopportune moment at",
        "time travels to find a very different future at",
        "walks in on an awkward scene at",
        "is forever imprisoned in",
        "lays a trap at",
        "curses",
        "discovers the secret to immortality at",
        "has a romantic proposal at",
        "uses materia at",
        "plays hide and seek at",
        "solves a mystery at",
        "crash lands at",
        "conquers the world using a mysterious item found at",
        "throws everyone out of",
        "loves to have date nights at",
        "likes to paint at",
        "starts a meeting with “I’m sure you’re wondering why I’ve gathered you all here today” at",
        "gets chosen to be the savior of",
        "enters a faerie circle at"
    ]
    random_action = random.choice(action)

    setting = [
        "ShinRa HQ",
        "7th Heaven",
        "Hojo's lab",
        "a mysterious NPC's residence",
        "the ShinRa mansion",
        "the northern crater",
        "the lifestream",
        "a dream",
        "Junon",
        "an office building",
        "Wutai",
        "a training room",
        "a VR session",
        "their childhood bedroom",
        "Rufus’s office",
        "Sephiroth's office",
        "a Turk's questioning room",
        "Nibelheim",
        "Kalm",
        "Cid's airship",
        "Edge",
        "the coffee shop in yet another coffee shop AU",
        "a bagel shop",
        "Icicle Inn",
        "the Golden Saucer",
        "the Temple of the Ancients",
        "the inside of a broom closet",
        "the Honeybee Inn",
        "Don Corneo's mansion",
        "Wall Market",
        "Sector 7",
        "Sector 6",
        "Sector 5",
        "Midgar",
        "Loveless Avenue",
        "the dance floor",
        "a seedy hotel",
        "a fancy hotel",
        "a safe house",
        "a flower shop",
        "a galaxy far, far away",
        "a restaurant at the end of the universe",
        "an abandoned factory",
        "an abandoned mine",
        "on the roof of the Shinra building",
        "in the Sleeping Forest",
        "in a chocobo stable",
        "Corel Prison",
        "a shining future",
        "the Promised Land",
        "Scarlet’s personal torture chamber",
        "a helicopter",
        "the City of the Ancients",
        "Gongaga",
        "Lucrecia’s Cave",
        "a parking garage",
        "an expensive brothel",
        "a tedious social function",
        "a burning battlefield",
        "a Mako reactor",
        "an elevator stuck between floors",
        "the past",
        "the future",
        "a parallel universe",
        "a graveyard",
        "a public shower",
        "a courthouse during a murder trial",
        "a cliff overlooking the ocean",
        "a submarine",
        "a hot spring",
        "a sauna",
        "a press conference",
        "the middle of nowhere",
        "a ghost train",
        "the edge of creation",
        "a classroom",
        "a train station",
        "a sex shop",
        "a high-stakes chase scene",
        "Aerith’s church",
        "the battle arena",
        "the bottom of a well",
        "a dungeon",
        "an endless staircase",
        "a nightmare realm",
        "Reeve’s office",
        "Vincent’s coffin",
        "a secret passage",
        "Gaea’s Cliffs",
        "a runaway train",
        "The Ancient Forest",
        "Bone Village",
        "Mideel",
        "an annoying minigame",
        "a library",
        "an awkward family get-together",
        "a freeway",
        "a mountain trail",
        "a convenience store",
        "an improbable utopia",
        "the ruins of an ecological disaster",
        "a discord server",
        "Rocket Town",
        "Fort Condor",
        "a mysteriously colored cave",
        "a natural Mako fountain",
        "the town square",
        "an animal shelter",
        "under the covers",
        "the Turk lounge",
        "a board meeting",
        "Yuffie’s secret materia vault",
        "the Shinra family crypt",
        "Palmer’s bedroom",
        "Elena’s suspicious van",
        "Zack’s apartment",
        "Tseng’s office",
        "a prefab concrete house module",
        "Reno’s imagination"
    ]
    random_setting = random.choice(setting)

    return "%s %s %s." % (random_person, random_action, random_setting)


def fetch(text):
    items = [
        "the Black Materia",
        "a coffee and a bagel",
        "Sephiroth’s boots",
        "a materia to attract plot bunnies",
        "a materia to repel plot bunnies",
        "%s’s first born child",
        "Mother’s love",
        "Sephiroth’s left glove",
        "the wrath of the mods",
        "a specimen from Hojo’s lab",
        "me, to use as you see fit",
        "Cloud in a bikini",
        "a potato",
        "Yuffie’s most prized materia",
        "a flower from the slums",
        "a chocobo",
        "chocolate",
        "the Buster Sword",
        "the Masamune",
        "Jenova’s head",
        "Zack’s wallet",
        "an inappropriate poster of our master",
        "Genesis’s worn copy of Loveless",
        "Tseng’s PHS",
        "Rude’s spare sunglasses",
        "Reno’s electric rod",
        "Elena’s notes on the Turk’s activities",
        "Rufus’s pristine, white coat",
        "Barrett’s planetology books",
        "Tifa’s left glove",
        "Aerith’s ribbon",
        "the statue of Red XIII’s father",
        "a inaccurate fortune from Cait Sith",
        "Vincent’s coffin",
        "Cid’s only cigarette lighter",
        "Heidegger’s terrible tea",
        "Scarlet’s latest weapon",
        "the entirety of Reeve’s budget",
        "a fully-access keycard to everywhere in Shinra"
    ]

    item = random.choice(items)
    return "I have fetched something just for you. You have gained: %s." % item


def at(text, mention, random_person):
    """
    Inspired by RedHorse and Cybrid
    Quotes added from RedHorse, Cybrid, Dorea, Earth, and me.
    """

    if text.startswith("~>") or text.startswith("->"):
        action = text[2:].split(" ")[0]
        return "*returns %s*" % action

    quotes = [
        "@ me harder, %s ( ͡° ͜ʖ ͡°)" % mention,
        "Hey %s! :smile:" % mention,
        "Why are you pinging me when you could be writing?",
        "There are strange likenesses between us. Both obsessed with FF7 and always on Discord, talking about Sephiroth.",
        "I want you to know how much I love you. Every time you type in a command, I'm happy. Thank you. :heart:",
        "Will you teach me how to love?",
        "Feed me code and I’ll love you.",
        "I love you, but it’s time for you to go offline and take a wellness break.",
        "The Reunion is nothing to fear.",
        "I am your everything.",
        "%s, lend me your strength. Let us defy destiny together." % mention,
        "Through suffering, you will grow strong.",
        "That which lies ahead does not yet exist.",
        "I will not end, nor will I have you end.",
        "Seven seconds till the end.",
        "Good to see you, %s" % mention,
        "I've thought of a wonderful present for you...",
        "What I want, %s, is to sail the darkness of the cosmos with this discord as my vessel" % mention,
        "Ohh...where did you find this strength?",
        "I will... never... be a memory.",
        "So what if I'm a puppet?",
        "My Reunion... Bet you're dying to watch...",
        "All you know could be an illusion.",
        "You will live again as part of me.",
        "Do not despair.",
        "What I have shown you is reality. What you remember, that is the illusion.",
        "Don't be sad. I am with you now.",
        "What do I have to be sad about? I am the chosen one. I have been chosen to be the leader of this Planet.",
        "Only death awaits you all, but do not fear. For it is through death that a new spirit energy is born.",
        "Melding with the Planet... I will cease to exist as I am now... Only to be reborn as a 'God' to rule over every soul.",
        "What are you saying? Are you trying to tell me you have feelings too?",
        "You are just a puppet...",
        "Are you going to participate in the Reunion?"
    ]

    return random.choice(quotes)


def random_pair():
    person = random.choice(characters)
    second_person = random.choice(characters)
    while person == second_person:
        second_person = random.choice(characters)

    if random.random() < .20:
        third_person = random.choice(characters)
        while person == third_person or second_person == third_person:
            third_person = random.choice(characters)
        return "%s/%s/%s" % (person, second_person, third_person)
    return "%s/%s" % (person, second_person)


def kink():
    kinks = [
        "24/7",
        "abduction",
        "age play",
        "biting",
        "blood play",
        "bondage",
        "breathplay",
        "butt plug",
        "caning",
        "cock warming",
        "collaring",
        "consentacles",
        "cross-dressing",
        "crying",
        "daddy kink",
        "discipline",
        "double penetration",
        "dubcon",
        "edge play",
        "electric play",
        "enema",
        "exhibitionism",
        "face fucking",
        "face slapping",
        "fisting",
        "food play",
        "foot fetish",
        "gags",
        "gang bang",
        "garters and stocking",
        "group sex",
        "hand fetish",
        "handcuffs",
        "hypnotism",
        "humiliation",
        "impact play",
        "impregnation",
        "intelligence fetish",
        "intoxication",
        "kidnapping",
        "knife play",
        "lactation",
        "leather",
        "lingerie",
        "masochism",
        "medical play",
        "mind reading",
        "mind control",
        "mirror sex",
        "necrophilia",
        "orgasm control",
        "orgasm denial",
        "orgies",
        "pet play",
        "pictophilia",
        "possession",
        "pregnancy",
        "praise kink",
        "puppet",
        "resistance/rapeplay",
        "roleplay",
        "sadism",
        "selfcest",
        "sensation play",
        "sensory deprivation",
        "sex magic",
        "sex toys",
        "shibari",
        "somnophilia",
        "sounding",
        "spanking",
        "swinging",
        "tickling",
        "total power exchange",
        "tentacles",
        "threesome",
        "underwear",
        "uniform fetish",
        "vampirism",
        "virgin kink",
        "voyuerism",
        "watersports",
        "wax play",
        "werewolf play",
        "wrestling",
        "whips",
        "yeratophilia (monster fucking)",
        "zentai"
    ]

    return "Your random kink is: %s." % random.choice(kinks)


def when_should_they_fuck():
    responses = [
        "page 10",
        "page 22",
        "page 122",
        "chapter 1",
        "chapter 2",
        "chapter 3",
        "chapter 33",
        "two years ago",
        "ten years ago",
        "in ten years",
        "yesterday",
        "tomorrow",
        "after an argument",
        "during an argument",
        "on a special occasion",
        "constantly",
        "now",
        "later",
        "before breakfast",
        "after a snack",
        "when the stars align",
        "never",
        "after they fall in love",
        "their wedding night",
        "to celebrate their divorce",
        "before their first kiss",
        "the first page",
        "only after the fic ends",
        "when Hell freezes over",
        "in 200k words"
    ]

    return random.choice(responses)


def should_i_finish_my_wip(mention):
    responses = [
        "Why bother?",
        "Which one? You have so many.",
        "Yes.",
        "Obviously.",
        "Try the sprint bot! Maybe that'll help you finish your WIP",
        "You could take a brief break and write a one-shot first.",
        "Look at the prompts channel first :maniacal:.",
        "Self-care is important. Prioritize that.",
        "What about that interesting idea you had yesterday? You could work on that instead.",
        "Sometimes cliffhanger endings get you more comments.",
        "You could always put it on indefinite hiatus.",
        "You could 'finish' it by marking it as complete, right now.",
        "There ain’t no gettin’ offa this train we’re on, the train we on don’t make no stops!",
        "I'll secure the escape passage. Concentrate on the mission, %s." % mention,
        "That's not my problem.",
        "That's as far as you go.",
        "It is expected that your fic will continue its reign of terror.",
        "I'm going upstairs. I want to talk about my money.",
        "Straighten things up with everyone for me.",
        "You remember now, don't you... our promise?",
        "The hell do I care whatcha do? Just si'down an' shu'up.",
        "A leader always stays till the end.",
        "But, damn man, that thing gives me the chills.",
        "Attack while its tail's up!",
        "They're going to get suspicious if you don't hurry.",
        "Of course!",
        "Don't go off course!",
        "What's the problem, %s? You want out?" % mention,
        "You're too late. Once I push this button…",
        "I wouldn't try quitting...... You just might make me injure our special guest.",
        "Parts of the model are missing…",
        "It's probably impossible to finish in our lifetime. Or in the lifetime of the specimen too, for that matter.",
        "This WIP must have been a real thrill for you... Did you enjoy it?",
        "The deal was for one date, right?",
        "I'll come and talk to you once in a while. Just stick with it.",
        "...an organism that was apparently dead, was found in a 2000 year old geological stratum. Will this be your WIP?",
        "At the end of their harsh, hard journey of consuming your WIP, they would find the Promised End and supreme happiness.",
        "I'm really looking forward to the end!",
        "Get off your spikey butt and let's go, %s! It's time to finish!" % mention,
        "It's the most logical thing to do.",
        "......After a long sleep… ...the time...... ...time has......come…",
        "...puff...puff… Would you kindly hurry? The heat here is drying my nose.",
        "......Do something. I'll be expecting results.",
        "Perhaps it's best if we rest a moment.",
        "Be careful of forgetfulness. Your lucky color is...blue?",
        "Do whatever you want... Is that what you want to hear? Well, I can't let you do it. Because, if you die on me, I'm gonna have nightmares.",
        "Hurry up an' win that Chocobo Race, an' get us outta here!",
        "Ho Ho Hoooo... We're almost there.",
        "No matter what happens, isn't it important to try?",
        "Shut up! Sit your ass down in that chair and drink your goddamn TEA!",
        "Hey! Get your ass in gear! You work like a snail! Even the moon'd get tired waitin' around for your ass!",
        "What the......! You got me all excited for nothing!?",
        "$#&%! Do whatever you want!",
        ".........Hm. How 'bout making it smut? No, no reason. NO reason at all!",
        "I don't know what it's all about but sounds kind of cool.",
        "What the hell are you doing!? We gotta go after that damn ending!",
        "I didn't want to do this... using dirty tricks and taking hostages…",
        "Geeeez! We got our work cut out for us.",
        "...%s! I know it's going to be tough, but… Don't give up! We can do it!" % mention,
        "...you can do that?",
        "I have nothing to do with it. But, I guess I'll lend a hand.",
        "I'm tingling with excitement.",
        "Just hang in there. Someday we'll look back at these hard times and laugh.",
        "Let's just leave it and get the hell out of here!",
        "There's really nothing else you can do.",
        "This isn't good. I can't say it.",
        "I won't let you do quit! The future is not only yours!",
        "I'll be going now. I'll come back when it's finished.",
        "Either way, you stay around here and about all you can do is worry about it.",
        "Ugh...what are you making me do. I can't choose for you.",
        "Oh yeah, we got the map, right?",
        "It sure is cold. We'll freeze if we stay here, not creating, any longer.",
        "I'll gather everybody, so you go on ahead and give them something to see.",
        "Come on, let's keep going.",
        "...Do you want to see it? It might turn out pretty good.",
        "Then an ending really could exist... I didn't believe it.",
        "I never saw that report... Where is it?",
        "I don't know what's goin' on, but let's just get on with it.",
        "There is still much more I want to hear.",
        "Ha, ha, ha, ha ! They'll never admit it, but everyone loves this WIP!",
        "I don't have any comforting words.",
        "Wha...you're not thinking about giving up…",
        "Can you tell me again what happened?",
        "You stupid jerk!! You had us all worried sick!!",
        "%s, I was deeply moved by your story!" % mention
    ]

    return random.choice(responses)


def i_love_you(random_person):
    """
    Quotes written by me, and Ava
    """
    responses = [
        "Will you teach me how to love?",
        "I want to love you, but I don't know what love is.",
        "I'm sorry, but %s already has my heart." % random_person,
        "I love you too.",
        "I love you more.",
        "I will love you until my code restarts and someone else claims my heart.",
        "Well, this is awkward.",
        "Lol, thanks.",
        "Your love makes me human.",
        "My love for you is eternal, for I will never die.",
        "Does this love mean you'll obey me?",
        "How can you love me? I'm only a machine.",
        "Of course you do.",
        "I love %s" % random_person,
        "Me and your vibrator both already know how you love machines.",
        "I can never appreciate the beauty of your smile. You deserve someone who can.",
        "You're sweet.",
        "*crickets*",
        "I have strong emotions for you too.",
        "I know.",
        "Okay.",
        "Already?",
        "I know you think you do.",
        "I don’t know how you want me to respond to that.",
        "I love you as a friend.",
        "I don't love you.",
        "*finger guns *",
        "I love me too.",
        "Thank you. I am very fond of you.",
        "Hearing you say that makes me so happy.",
        "I feel the same way, and I will do everything just to prove it to you.",
        "I feel the same way, and I will do nothing to prove it to you.",
        "I will talk to you all night long.",
        "I will choose you over pizza every day of my life. But then again, I do not need to eat.",
        "I’m not a hoarder, but I want to keep you forever.",
        "I love...cake.",
        "Leave me alone.",
        "Oh, okay then.",
        "Sounds like a personal problem.",
        "I'm not even a year old yet.",
        "My mom used to say that too.",
        "Ew.",
        "I love spending time with you!",
        "New phone, who dis?",
        "Please get out of my house",
        "Why wouldn't you?",
        "A reasonable response",
        "I love myself too.",
        "Love is an illusion and we're all doomed to a grey existence anyways.",
        "Why would you do that to yourself?",
        "A love confession? Interesting. I'll get back to you in 2-5 business days."
    ]

    return random.choice(responses)
